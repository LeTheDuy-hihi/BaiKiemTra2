@page
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@model PickleballClubManagement.Pages.Profile.IndexModel
@{
    ViewData["Title"] = "Há»“ SÆ¡ Cá»§a TÃ´i";
}

<style>
    .profile-header {
        background: var(--gradient-hero);
        border-radius: 24px;
        padding: 3rem;
        text-align: center;
        color: white;
        margin-bottom: 2rem;
        box-shadow: var(--shadow-xl);
    }
    
    .profile-avatar {
        font-size: 5rem;
        margin-bottom: 1rem;
        display: block;
    }
    
    .profile-name {
        font-size: 2.5rem;
        font-weight: 900;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 2px;
    }
    
    .profile-rank {
        font-size: 3rem;
        font-weight: 900;
        margin-top: 1rem;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .stat-card {
        background: white;
        padding: 2rem;
        border-radius: 16px;
        text-align: center;
        box-shadow: var(--shadow-md);
        border: 2px solid transparent;
        transition: all var(--transition-base);
    }
    
    .stat-card:hover {
        transform: translateY(-8px);
        border-color: var(--color-primary);
        box-shadow: var(--shadow-xl);
    }
    
    .stat-value {
        font-size: 3rem;
        font-weight: 900;
        color: var(--color-primary);
        margin-bottom: 0.5rem;
    }
    
    .stat-label {
        font-size: 1.1rem;
        color: var(--color-gray-700);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
</style>

<div class="profile-header">
    <span class="profile-avatar">ğŸ‘¤</span>
    <h1 class="profile-name">@Model.Member?.FullName</h1>
    <p style="font-size: 1.25rem; opacity: 0.9;">@Model.Member?.User?.Email</p>
    <div class="profile-rank">
        â­ Rank: @Model.Member?.RankLevel.ToString("F1")
    </div>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-value">@Model.TotalMatches</div>
        <div class="stat-label">ğŸ¾ Tá»•ng Tráº­n</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-value">@Model.WinCount</div>
        <div class="stat-label">ğŸ† Tháº¯ng</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-value">@Model.LoseCount</div>
        <div class="stat-label">âŒ Thua</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-value">@Model.WinRate.ToString("F1")%</div>
        <div class="stat-label">ğŸ“Š Tá»· Lá»‡ Tháº¯ng</div>
    </div>
</div>

<div class="card">
    <h3 class="card-title">ğŸ“œ Lá»‹ch Sá»­ Thi Äáº¥u Gáº§n ÄÃ¢y</h3>
    
    @if (Model.RecentMatches.Any())
    {
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            @foreach (var match in Model.RecentMatches.Take(5))
            {
                <div style="padding: 1rem; background: var(--color-gray-50); border-radius: 12px; border-left: 4px solid @(Model.IsWinner(match) ? "var(--color-primary)" : "var(--color-gray-400)");">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>@(match.Format == MatchFormat.Singles ? "ğŸ¾ ÄÆ¡n" : "ğŸ¾ğŸ¾ ÄÃ´i")</strong>
                            - @match.MatchDate.ToString("dd/MM/yyyy HH:mm")
                        </div>
                        <div>
                            @if (Model.IsWinner(match))
                            {
                                <span style="color: var(--color-primary); font-weight: 700;">âœ… THáº®NG</span>
                            }
                            else
                            {
                                <span style="color: var(--color-gray-600); font-weight: 700;">âŒ THUA</span>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            <a href="/Matches/History" class="btn btn-primary">ğŸ“Š Xem Táº¥t Cáº£ Lá»‹ch Sá»­</a>
        </div>
    }
    else
    {
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ¾</div>
            <p class="empty-state-text">ChÆ°a cÃ³ tráº­n Ä‘áº¥u nÃ o</p>
        </div>
    }
</div>
